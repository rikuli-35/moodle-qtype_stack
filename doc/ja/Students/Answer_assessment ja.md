# 解答の評価

## 解答はどのように評価されるか

STACKの問題は1つ以上のパートを持つことがある。各パートには1つ以上の解答欄があり、例えば数式を入力して解答するようなものである。入力した1つの数式が複数のパートで使用されることもある。これは複雑に聞こえるかもしれないが、さまざまな可能性があるため一概には言えない。問題文をよく読んで確認する必要がある。不明な点がある場合は、担当の先生に質問するとよい。

解答が必要なパートに回答していない場合は、回答を求めるメッセージが表示される。通常は、すべてのパートに回答する必要がある。

解答は以下の2段階のプロセスで評価される。

1. まず、解答が有効であるかどうかが検証される。この過程では、入力が数学的に意味をなすものであるかどうかが確認される。例えば、括弧の閉じ忘れなどの構文エラーはこの過程で検出される。
2. あるパートに関連するすべての解答が有効であると判定されると、数学的な性質の確認が行われる。どのような性質が求められるかは、出題される問題によって異なる。

これらのプロセスは1回の操作で行われる場合もあれば、ページを2回送信する必要がある場合もある。まず問題の各パートに回答し、`テストを終了する`ボタンを押して解答を検証する。すべてのパートが有効であれば、`すべての解答を送信して終了する`を押して評価を受ける。

解答を変更することもできる。`テストを終了する`を押して検証した後、再度`すべての解答を送信して終了する`を押して評価を受ける。システムは変更の履歴をすべて記録している。

括弧の閉じ忘れなどの構文エラーによって減点されることはない。ただし、構文的には有効であっても意図したものと異なる式を入力してしまい、結果として不正解になることはある。曖昧さのない構文で数式を表現する方法を身につける必要があるが、これは簡単なことで、ほとんどの学生は練習すればすぐに習得できる。数学的なミスをした場合は、もう一度問題に挑戦するとよい。

模範解答を表示させた場合は、それ以降解答を変更することはできない。

数式は通常、線形構文を使って入力する。詳細は[解答入力](Answer_input.md)を参照できる。

## 再提出

STACKでは、最初に正解できなかった場合でも再提出することが推奨されている。通常、不正解の解答を提出するたびに、その問題で得られる点数のうちわずかな割合（例えば10%）が減点される。ただし、最終的な得点はすべての解答の中で最も高い点数となる。部分的に正しい解答を提出した後に再提出しても、点数が下がることはない。

## なぜ解答が無効になるのか

ある問題パートに対応するすべての解答欄が有効になって初めて、そのパートの評価が行われる。検証プロセスは、数式を正しい形式で曖昧さなく入力できるようサポートするためのものである。紙の上であれば「あなたが何を意味しているか」を推測できるかもしれないが、コンピュータでは「自分が意味することを正確に表現する」必要がある。解答欄の入力が無効であっても減点されることはないので、安心して解答を入力してよい。フィードバックは常に表示される。

解答が無効とみなされる理由はいくつか考えられる。

* 括弧の対応が合っていないなど、構文エラーがある場合。
* 解答中の変数は半角英数字のみに限られる。
* 入力できるMaximaの関数は数学的なものに限られており、プログラミングやプロットなどの関数は使用できない。
* 問題によっては、解答の型が正しいことが求められることがある。数学的オブジェクトにはさまざまな型がある。例えば：

  * 方程式：`3*x=x^2-1` : 等号が必要である。
  * 不等式：`x<=1`
  * 集合：`{1,2,3}` : 集合は中括弧で囲む。
  * リスト：`[1,1,2,3]` : リストは角括弧で囲む。
  * 行列：`matrix([1,2],[3,3])`

入力する前に、自分の解答がどのような形式であるべきかを考えるとよい。

* 教育上の理由から、特定の文字列の入力が禁止されている場合がある。
* 浮動小数点数（例：\\(0.33\\)）の使用が許可されていない場合がある。その場合は、分数（例：`1/3`）や平方根（例：`sqrt(2)`）を使って正確な値を入力する必要がある。
* 0で割るなど、数学的に意味をなさない式も無効となる。

## _数学的な性質_とは

すべての解答が有効になったら、もう一度送信する。今度は評価が行われる。結果として点数が与えられ、場合によっては文章によるフィードバックも提供される。満点が得られなかった場合は、問題に再挑戦するとよい。

解答の評価は、単純に_正解_か_不正解_かを判断するだけではない。多くの場合、解答がいくつかの異なる数学的な性質を満たしているかどうかが確認される。例えば：

* その式は正しい式と代数的に等価か。
* 式は完全に整理されているか（例：同類項をすべてまとめた、または式を因数分解した）。
* その式は方程式を満たしているか。
* 集合のすべての要素は解になっているか。また、解の集合にはすべての解が含まれているか。

問題に答える際には、自分の解答がどのような性質を満たすべきかを考えることが重要である。わからない場合は、担当の先生に質問するとよい。
